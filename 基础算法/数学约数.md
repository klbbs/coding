# æ•°å­¦çº¦æ•°

#### ä»»ä½•ä¸€ä¸ªæ•´æ•°éƒ½å¯ä»¥åˆ†è§£ä¸ºè´¨å› æ•°,æ ¹æ®`æ•°å­¦è´¨æ•°`æ–‡æ¡£ä¸­çš„çŸ¥è¯†,æˆ‘ä»¬å¯ä»¥ä»¥ä¸‹æ–¹æ³•æ±‚å‡ºæ•°çš„è´¨å› æ•°åˆ†è§£

```cpp
int n;cin>>n;
for(int i = 2; i <= n/i; i ++)
    if(n % i == 0)
    {
        int b = 0;
         while(n % i == 0)n /= i,b++;  
        cout << i << ' ' << b << endl;
    }
if(n > 1)cout << n << ' ' << 1;//ç‰¹åˆ¤ä¸€ä¸‹,å¯èƒ½æœ€åŽçš„nå°±æ˜¯æœ€å¤§çš„é‚£ä¸ªè´¨å› æ•°

```

#### çŽ°åœ¨å°è¯•ä¸€ä¸‹æ±‚çº¦æ•°

```cpp
vector<int> find(int n)
{
    vector<int>res;
    for(int i = 1; i <= n / i; i ++)
    {
        if( n % i == 0)
        {
            res.push_back(i);
            if(n/i != i)res.push_back(n/i);
        }
    }
    return res;
}

int main()
{
    int t;cin>>t;
    while(t --)
    {
        int n;cin>>n;
        vector<int>res = find(n);
        sort(res.begin(), res.end());
        for(auto s : res)
        cout << s << ' ';
        cout <<endl; 
    }
}
```

#### ä»Žä¸Šé¢ä»£ç ä¸­,åªè¦ä¸€ä¸ªæ•°æ˜¯nçš„çº¦æ•°,å°±å¯ä»¥pushå¦ä¸€ä¸ªçº¦æ•°åˆ°æ•°å€¼ä¸­

#### ç»™å®šnä¸ªæ•°,æ±‚è¿™äº›æ•°ä¹˜ç§¯çš„çº¦æ•°,ä¾‹å¦‚è¾“å…¥ `4 5 2`,å°±æ˜¯è¦æ±‚4\*5\*2çš„çº¦æ•°

#### é¦–å…ˆæ¯ä¸ªçº¦æ•°éƒ½å¯ä»¥è¢«åˆ†è§£ä¸ºåŽŸæ•°çš„è´¨å› æ•°ä¹˜ç§¯

#### ä¾‹å¦‚,æ±‚12æœ‰å¤šå°‘ä¸ªçº¦æ•°?æˆ‘ä»¬å¯ä»¥è¿™ä¹ˆæ±‚: 12 å¯ä»¥åˆ†è§£ä¸ºï¼š2^2*3^1ã€‚æ‰€ä»¥2å¯ä»¥å– 0 ~ 2ä¸ªï¼Œ3ç§å–æ³•ã€‚3å¯ä»¥å– 0~1 ä¸ªï¼Œ2ç§å–æ³•ã€‚12çš„çº¦æ•°ä¸€å…±ï¼š2 * 3 = 6ä¸ª. äº†è§£è¿™ç§æ–¹æ³•æ±‚ä¸€ä¸ªæ•°çš„çº¦æ•°,æˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€ä¸ªå…¬å¼: N = (p1^x1)(p^x2)(p3^x3)â€¦(pk^xk)ï¼Œå…¶ä¸­piä¸ºè´¨æ•°ã€‚åˆ™Nçš„çº¦æ•°ä¸ªæ•°ä¸ºï¼š(x1+1)(x2+1)(x3+1)â€¦(xk+1)

#### ä½†æ˜¯é¢˜ç›®è¦æ±‚çš„æ˜¯nä¸ªæ•°çš„ä¹˜ç§¯æ±‚çº¦æ•°,å¦‚ä½•è§£å†³? äº‹å®žä¸Š,å…¶å®žå°±æ˜¯å¯¹æ¯ä¸ªæ•°åˆ†åˆ«è¿›è¡Œè¿™æ ·çš„æ“ä½œ

```cpp
#include <iostream>
#include <unordered_map>
using namespace std;
const int N = 1e9+7;//mod N æ˜¯é¢˜ç›®è¦æ±‚
int main()
{
    int n;cin>>n;
    unordered_map<int,int>primes;
    while(n --)
    {
        int x;cin>>x;
        for(int i = 2; i <= x/i; i ++)
            while(x%i == 0)
            {
                x /= i;
                primes[i]++;
            }
        if(x > 1)primes[x]++;
    }
    long long res = 1;
    for(auto p : primes)
        res = res*(p.second+1) % N;
    cout << res;
}
```

#### æˆ‘ä»¬åˆ†è§£å®Œæ¯ä¸ªæ•°,å†ç›¸ä¹˜,ä¸å°±ç›¸å½“äºŽå¯¹åŽŸæ•°åˆ†è§£å—?è¿™é‡Œç›¸ä¹˜å°±å˜æˆç›¸åº”æŒ‡æ•°ç›¸åŠ `primes[i]++`,æœ€åŽå¥—å…¬å¼è§£å†³äº†è¿™é“é¢˜

#### å¦‚æžœé¢˜ç›®è¦æ±‚æˆ‘ä»¬æ±‚çº¦æ•°ä¹‹å’Œå‘¢?çº¦æ•°çš„ä¸ªæ•°ä¸åŒ…å«çº¦æ•°å…·ä½“çš„ä¿¡æ¯å•Š,å¥½åƒæ²¡åŠžæ³•ä»Žä¸Šé¢èŽ·å¾—è§£å†³æ‰‹æ®µ

### è¿™é‡Œå…ˆç»™å‡ºä»¥ä¸Šå’Œæ­¤é¢˜æ‰€æœ‰å…¬å¼: 

$$
N = p1^{c1} * p2^{c2} * â€¦ *pk^{ck} 
\\
çº¦æ•°ä¸ªæ•° =  (c1 + 1) * (c2 + 1) * â€¦ * (ck + 1)
\\
çº¦æ•°ä¹‹å’Œ = (p1^0 + p1^1 + â€¦ + p1^{c1}) * â€¦ * (pk^0 + pk^1 + â€¦ + pk^{ck})
\\
$$



#### æŠŠå¼å­å±•å¼€,æˆ‘ä»¬å°±å¯ä»¥å‘çŽ°,å®žé™…ä¸Šå°±æ˜¯ä¸åŒè´¨å› æ•°çš„æŽ’åˆ—ç»„åˆå†ç›¸åŠ ,è¿™ä¸æ­£å¥½å°±æ˜¯çº¦æ•°ä¹‹å’Œå—

```cpp
#include <bits/stdc++.h>
using namespace std;
const int N = 1e9+7;//é¢˜ç›®è¦æ±‚
int main()
{
    int n;cin>>n;
    unordered_map<int,int>primes;
    while(n --)
    {
        int x;cin>>x;
        for(int i = 2; i <= x/i; i ++)
            while(x % i == 0)
            {
                x /= i;
                primes[i]++;
            }
        if(x > 1)primes[x]++;
    }
    long long res = 1;
    for(auto p : primes)
    {
        int a = p.first, b = p.second;
        long long t = 1;
        while(b --)t = (t*a + 1) % N;
        res = res * t % N;
    }
    cout << res;
}
```

#### æ–°å®šä¹‰: Ï•(N)æ¬§æ‹‰å‡½æ•°,æ„æ€æ˜¯1-Nä¸­ä¸ŽNäº’è´¨çš„æ•°çš„ä¸ªæ•°

#### **äº’è´¨**:è‹¥Nä¸ªæ•´æ•°çš„æœ€å¤§å…¬çº¦æ•°æ˜¯1ï¼Œåˆ™ç§°è¿™Nä¸ªæ•´æ•°äº’è´¨ã€‚

#### ç»™å®šä¸€ä¸ªæ•°n,æ±‚è¿™ä¸ªæ•°çš„æ¬§æ‹‰å‡½æ•°Ï•(n)

#### [è¶…ç»å¤§ä½¬è§£é‡Š](https://www.acwing.com/solution/content/8702/):

$$
Ï†(n)=Ï†(p_1^{a1})âˆ—â€¦âˆ—Ï†(p_x^{ax})
\\
=(ð‘_1^{ð‘Ž1}âˆ’ð‘_1^{ð‘Ž1âˆ’1})âˆ—â€¦âˆ—(ð‘_ð‘¥^{ð‘Žð‘¥}âˆ’ð‘_ð‘¥^{ð‘Žð‘¥âˆ’1})
\\
=ð‘_1^{ð‘Ž1}âˆ—(1âˆ’\frac{1}{ð‘1})âˆ—ð‘_2^{ð‘Ž2}âˆ—(1âˆ’\frac{1}{ð‘2})âˆ—â€¦âˆ—ð‘_ð‘¥^{ð‘Žð‘¥}âˆ—(1âˆ’\frac{1}{ð‘ð‘¥})
\\
=p_1^{a1}âˆ—p_2^{a2}âˆ—â€¦âˆ—p_x^{ax}âˆ—(1âˆ’\frac{1}{p1})âˆ—(1âˆ’\frac{1}{p2})âˆ—â€¦âˆ—(1âˆ’\frac{1}{px})
\\
=nâˆ—\prod_{i=1}^{x}(1âˆ’\frac{1}{p_i})
$$

#### æ¶‰åŠå®¹æ–¥å®šç†,yxcçš„è§£é‡Šä¹Ÿç®€å•æ˜“æ‡‚,å…·ä½“è¯·å›žé¡¾è¯¾ç¨‹,ä¸‹é¢ç»™å‡ºé¢˜è§£ä»£ç 

```cpp
#include <bits/stdc++.h>
using namespace std;

int main()
{
    int n;cin>>n;
    while(n --)
    {
        int x;cin>>x;
        long long res = x;
        for(int i = 2; i <= x/i; i ++)
            if(x%i == 0)
            {
                res -= res/i;
                while(x % i == 0)x /= i;
            }
        if(x > 1)res = res*(x-1)/x;
        cout << res << endl;
    }
    
}
```

~~(æ²¡é”™æˆ‘ä¹Ÿå¾ˆéœ‡æƒŠå±…ç„¶è¿™ä¹ˆçŸ­)~~
